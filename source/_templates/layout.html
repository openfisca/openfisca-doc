{% extends "!layout.html" %}

{%- block htmltitle %}
<!-- Jquery already required by bootstrap, and two uses of $(document), current document site throwing js errors without this -->
  <script src="{{ pathto('_static/jquery.min.js', 1) }}"></script>
  <script src="{{ pathto('_static/lucide/lucide.min.js', 1) }}"></script>

  {% if trainingtemplate %}
  <link rel="stylesheet" href="{{ pathto('_static/reveal/reveal.css', 1) }}">
  <link rel="stylesheet" href="{{ pathto('_static/css/components/presentation.css', 1) }}">
  <link rel="stylesheet" href="{{ pathto('_static/reveal/theme/openfisca.css', 1) }}" id="theme">
  {% endif %}

  {{ super() }}
{%- endblock %}

<!-- Page content footer -->
{%- block bottom_rel_links %}
{%- endblock %}

{%- block footer %}
  {{ super() }}

  {% if trainingtemplate %}
  <script src="{{ pathto('_static/reveal/reveal.js', 1) }}"></script>
  <script src="{{ pathto('_static/reveal/plugin/zoom/zoom.js', 1) }}"></script>
  <script src="{{ pathto('_static/reveal/plugin/notes/notes.js', 1) }}"></script>
  <script src="{{ pathto('_static/reveal/plugin/search/search.js', 1) }}"></script>
  <script src="{{ pathto('_static/reveal/plugin/markdown/markdown.js', 1) }}"></script>
  <script src="{{ pathto('_static/reveal/plugin/highlight/highlight.js', 1) }}"></script>
  <script>
    lucide.createIcons();
    // https://revealjs.com/initialization/
    Reveal.initialize({
      controls: true,
      progress: true,
      center: true,
      hash: true,
      embedded: true,
      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
    });
  </script>
  {% else %}
  <script>
    lucide.createIcons();
  </script>
  {% endif %}

{%- endblock %}
